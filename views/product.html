{% extends "templates/navbar.html" %}

{% block content %}
    <div class="row">
        {% if result %}
            <div class="col-sm-10 col-sm-offset-1 alert alert-success">
                Product {{ result }} successfully created! <a href="https://{{store}}/admin/products/{{result}}" target="_blank">Click to review!</a>
            </div>
        {% endif %}
    </div>
    <div class="row">
        <div class="col-lg-6 col-lg-offset-3 col-sm-12">
            <div class="panel panel-default">
                <form action="/products" method="post" enctype='multipart/form-data' id='productForm'>
                    <div class="panel-heading">
                        Create New Product
                    </div>
                    <div class="panel-body">
                        <div class='form-group col-lg-6 col-sm-12'>
                            <label class='control-label'>Product Title</label>
                            <input type="text" name="product_title" value="" class='form-control'>
                        </div>
                        <div class='form-group col-lg-6 col-sm-12'>
                            <label class='control-label'>Handle</label>
                            <input type="text" name="product_handle" value="" class='form-control' placeholder='Leave blank to auto-generate'>
                        </div>
                        <div class='form-group col-lg-6 col-sm-12'>
                            <label class='control-label'>Product Type</label>
                            <input type="text" name="product_type" valueproducts="Shirts" class='form-control'>
                        </div>
                        <div class='form-group col-lg-6 col-sm-12'>
                            <label class='control-label'>Vendor</label>
                            <input type="text" name="vendor" value="BPP" class='form-control'>
                        </div>
                        <div class="form-group col-sm-12">
                            <label class='control-label'>Tags</label>
                            <textarea name="tags" rows="2" cols="40" placeholder='We can default this to whatever you want as well' class='form-control'></textarea>
                        </div>
                        <!-- <div class="form-group col-sm-12">
                            <label class='control-label'>BodyHtml</label>
                            <textarea name="body_html" rows="3" cols="40" placeholder='Comma-separated string of tags for the product' class='form-control'>&lt;img src=&quot;//cdn.shopify.com/s/files/1/1335/7705/files/13403334_10154065892745733_4480761494036514837_o_large.jpg?10673323962259018597&quot; alt=&quot;&quot; /&gt;</textarea>
                        </div> -->
                        <hr>
                        <div class='form-group col-sm-12'>
                            <!-- <label class="btn btn-default btn-file">
                                Browse <input type="file" name='zip_file' style="display: none;">
                            </label> -->
                            <label class='control-label'>ZIP File</label>
                            <input type="file" name="zip_file" value="">
                        </div>
                        <a id='advanced'>Advanced Settings</a>
                        <div class="advanced-wrapper" id='advanced-wrapper' style='display:none'>

                        </div>
                    </div>
                    <div class="panel-footer">
                        <input type="submit" name="name" value="Submit" class='btn btn-primary pull-right' id='submit'>
                        <div class='clearfix'></div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <style media="screen">
        #advanced {
            cursor: pointer;
        }
        .btn-file {
            position: relative;
            overflow: hidden;
        }
        .btn-file input[type=file] {
            position: absolute;
            top: 0;
            right: 0;
            min-width: 100%;
            min-height: 100%;
            font-size: 100px;
            text-align: right;
            filter: alpha(opacity=0);
            opacity: 0;
            outline: none;
            background: white;
            cursor: inherit;
            display: block;
        }
    </style>

    <script type="text/javascript">
        $(document).ready(function() {
            $('#advanced').click(function(ev) {
                $('#advanced-wrapper').toggle();
            })
            $('#productForm').submit(function(ev) {
                $('#submit').attr('disabled', 'disabled').prop('value', 'Submitting');
                $(this).submit(function() {
                    return false;
                });
                return true;
            })
        })
    </script>
{% endblock %}
